### 目标函数：

**L1、L2 范数的定义是什么？在几何意义上表示什么意思？**

什么是范数？

这个其实是数学上的概念，简单来说，其定义的函数要满足正定性，绝对齐次性，三角不等式。

L1范数：

L1范数就是对每个Xi的绝对值求合，其在几何意义上表示的就是曼哈顿距离

L2 范数：

L2范数其实就是对Xi的平方求合后再开方，简单来说，其和向量的模长是相似的，其在几何上表示的就是几何距离

**计算过程是怎样的？**

我们可以对真实的无雨图像和我们pred的无雨图像的每个像素点上数据（我们在花卉中得到了表示图像的张量格式——PIL格式）相减，通过L1或者L2来得到损失（同时要取平均），其实我们一般使用的MSE就是基于L2的损失

### 评估指标

#### 1.**PSNR（峰值信噪比）**

峰值信噪比的定义如下：

作为对数分子的，是表示图像点颜色的最大值（如果每个采样点用 8 位表示，就是 255）的平方。对于初学者而言，可以暂时将 	`MAX_I` 理解为一个**固定值**

作为对数分母的，是两张图像在所有像素上的**均方误差 (MSE)** 。MSE 的计算方式源于 L2 范数，这使得 PSNR 指标对异常值（即差异	特别大的像素点）非常敏感（为了笔记的完整，直接copy学长的描述）

#### 2.**SSIM（结构相似性）**

**概述：**

其是一个衡量图片的相似性的一个物理量，他将图片相似性分解到三个通道上：亮度，对比度和结构。让我们先给出SSIM的公式：

![f0dfdefb-3703-443a-869c-e1f272a74539](./Img/f0dfdefb-3703-443a-869c-e1f272a74539.png)

在这里，μ表示图像的均值，σ表示方差，σₓᵧ表示协方差。在这里，我没有研究这个函数的具体定义，但我们可以简单感受，当两者的差别越大，SSIM越小，而若两者完全相同，则SSIM为1。

**SSIM 的数值范围是多少？**

SSIM 的数值范围是 [-1, 1]。简单来说，若两幅图片完全相同，则SSIM=1，反之，若完全相反（每个像素点点数值相加为255），此时SSIM=-1。

**SSIM 对图片的考虑主要从哪几个角度？**

主要就是从亮度，对比度和结构三个方面来考虑。

**不同于 PSNR，SSIM 每一次的评估对象是什么？**

**PSNR**的评估对象是整张图片的所有像素。它计算的是所有像素上的均方误差，然后转换成一个分值。它是一个**全局的**评估值。

**SSIM** 的评估对象是图片中的一个局部小窗口。SSIM 算法会用一个滑动窗口在两张图片上逐块移动。在每一个窗口内，分别计算亮度、对比度和结构的相似度，得到一个局部的 SSIM 值。最后，将所有局部窗口的 SSIM 值进行平均，得到一个代表整张图片的最终 SSIM 值。故其实SSIM的过程有点像我们使用卷积并进行池化。